(this.webpackJsonpmessenger=this.webpackJsonpmessenger||[]).push([[0],{188:function(e,t,n){e.exports=n(365)},365:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(9),o=n.n(c),l=n(7),i=n(366),s=n(367),u=function(e){e.push("/hangmanLobby")},m=function(e,t){e.push({pathname:"/game",state:{data:t}})},f=function(e){e.push("/games")};var d=Object(l.f)((function(e){var t=e.history;return""!==localStorage.getItem("accessToken")?r.a.createElement("div",{style:{margin:"1rem",fontSize:"15px"}},r.a.createElement(i.a,{align:"middle"},r.a.createElement(s.a,{span:8},r.a.createElement("a",{onClick:function(){return f(t)}},"Games")),r.a.createElement(s.a,{span:2,offset:12},r.a.createElement("a",{onClick:function(){return function(e){e.push("/profile")}(t)}},"Profile")),r.a.createElement(s.a,{span:2},r.a.createElement("a",{onClick:function(){return function(e){localStorage.setItem("accessToken",""),function(e){e.push("/")}(e)}(t)}},"Logout")))):r.a.createElement("div",null)})),p=n(5),g=n(73),h=n(370),E=n(124),y=(n(197),n(368)),b=n(371),v=n(372),w=n(374),x=n(375),O=n(35),j=n.n(O),P=n(369),S="".concat("http://127.0.0.1:8000/","auth/users/"),k="".concat("http://127.0.0.1:8000/","auth/jwt/create/"),C="".concat("http://127.0.0.1:8000/","hangman/"),L="".concat(C,"getFinished/"),I="".concat(C,"getPoints/"),A="".concat("http://127.0.0.1:8000/","auth/users/me/"),_=function(e){return"".concat(C).concat(e,"/")},N=function(e,t,n){var a={username:t,password:n};return new Promise((function(t,n){j.a.post(k,a).then((function(n){return localStorage.setItem("accessToken",n.data.access),localStorage.setItem("isLoggedIn",!0),f(e),P.a.success("Successfully logged in!"),t("")})).catch((function(e){return 401===e.response.status?t("User does not exist."):t("")}))}))},G=function(){var e=localStorage.getItem("accessToken");return{headers:{Authorization:"JWT ".concat(e)}}},M=function(e,t){return new Promise((function(n,a){j.a.post(function(e){return"".concat(_(e),"/guessLetter/")}(e),{letter:t},G()).then((function(e){return n(e.data)})).catch((function(e){return console.log(e)}))}))},T=function(e){return r.a.createElement("p",null,e.errMessage)};var F=Object(l.f)((function(e){var t=Object(a.useState)(""),n=Object(p.a)(t,2),c=n[0],o=n[1];return r.a.createElement("div",{style:{margin:"100px 40% 100px"}},r.a.createElement("h1",null,"Login to GameHub"),r.a.createElement(y.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:function(t){N(e.history,t.username,t.password).then((function(e){return o(e)}))}},r.a.createElement(y.a.Item,{name:"username",rules:[{required:!0,message:"Please input your Username!"}]},r.a.createElement(b.a,{prefix:r.a.createElement(w.a,{className:"site-form-item-icon"}),placeholder:"Username"})),r.a.createElement(y.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}]},r.a.createElement(b.a,{prefix:r.a.createElement(x.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})),r.a.createElement(y.a.Item,null,r.a.createElement(y.a.Item,{name:"remember",valuePropName:"checked",noStyle:!0},r.a.createElement(v.a,null,"Remember me"))),r.a.createElement(y.a.Item,null,r.a.createElement(E.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Log in"),"Or ",r.a.createElement("a",{onClick:function(){return e.history,void e.switch()}},"register now!"))),r.a.createElement(T,{errMessage:c}))})),q="abcdefghijklmnopqrstuvwxyz".split(""),R=function(e){return"Game "+e},z=function(e){return e.map((function(e){return""===e?"_":e})).join("   ")},U=function(e){return e.includes("")?"You should read a dictionary :(":"Congratulations...nerd"},H=g.a.Option;var B=function(e){var t=Object(a.useState)(0),n=Object(p.a)(t,2),c=n[0],o=n[1],l=Object(a.useState)(),i=Object(p.a)(l,2),s=i[0],u=i[1],f=Object(a.useState)(),d=Object(p.a)(f,2),y=d[0],b=d[1],v=Object(a.useState)(),w=Object(p.a)(v,2),x=w[0],O=w[1],P=Object(a.useState)(""),S=Object(p.a)(P,2),k=S[0],A=S[1];Object(a.useEffect)((function(){new Promise((function(e,t){j.a.get(C,G()).then((function(t){return e(t.data)})).catch((function(e){return console.log(e)}))})).then((function(e){return u(e)})),new Promise((function(e,t){j.a.get(L,G()).then((function(t){return e(t.data)})).catch((function(e){return console.log(e)}))})).then((function(e){return b(e)})),new Promise((function(e,t){j.a.get(I,G()).then((function(t){return e(t.data)})).catch((function(e){return console.log(e)}))})).then((function(e){return o(e)}))}),[]);var N=function(e){!function(e){j.a.delete(_(e),G()).catch((function(e){return console.log(e)}))}(e),u(s.filter((function(t){return t.game_id!==e})))};return r.a.createElement("div",null,r.a.createElement("h1",{style:{textAlign:"center"}},"Play Hangman"),r.a.createElement("h3",{style:{textAlign:"center"}},"Points Earned: "+c),r.a.createElement("div",{style:{textAlign:"center"}}),r.a.createElement("h2",{style:{textAlign:"center"}},"Current Games"),r.a.createElement(h.b,{style:{margin:"10px 10% 50px 10%",padding:"10px",border:"2px solid grey",borderRadius:"5px"},itemLayout:"horizontal",dataSource:s,renderItem:function(t){return r.a.createElement(h.b.Item,{actions:[r.a.createElement(E.a,{onClick:function(){return m(e.history,t)}},"Continue Playing"),r.a.createElement(E.a,{onClick:function(){return N(t.game_id)}},"Delete Game")]},r.a.createElement(h.b.Item.Meta,{title:r.a.createElement("p",null,R(t.game_id)),description:r.a.createElement("p",null,(n=t,"Lives Left: "+(6-n.wrong_moves)+", Progress: "+z(n.word_attempt)))}));var n}}),r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(g.a,{showSearch:!0,style:{width:200},placeholder:"Choose Difficulty Level",optionFilterProp:"children",onChange:function(e){O(e)},filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},r.a.createElement(H,{value:"1"},"1"),r.a.createElement(H,{value:"2"},"2"),r.a.createElement(H,{value:"3"},"3")),r.a.createElement(E.a,{onClick:function(){null==x||""==x?A("Please select a difficulty level"):function(e,t){j.a.post(C,{difficulty_level:t},G()).then((function(t){m(e,t.data)})).catch((function(e){return console.log(e)}))}(e.history,x)}},"Start New Singleplayer Game"),r.a.createElement("p",null,"Multiplayer Functionality Coming Soon!"),r.a.createElement(T,{errMessage:k})),r.a.createElement("h2",{style:{textAlign:"center"}},"Past Games"),r.a.createElement(h.b,{style:{margin:"10px 10% 50px 10%",padding:"10px",border:"2px solid grey",borderRadius:"5px"},itemLayout:"horizontal",dataSource:y,renderItem:function(e){return r.a.createElement(h.b.Item,null,r.a.createElement(h.b.Item.Meta,{title:r.a.createElement("p",null,R(e.game_id)),description:r.a.createElement("p",null,(t=e.word,"word: "+t))}),r.a.createElement("p",null,e.word_attempt.includes("")?"LOST":"WON"));var t}}))},J=n(373),V=g.a.Option;var W=function(e){var t,n=Object(a.useState)(""),c=Object(p.a)(n,2),o=c[0],l=c[1],m=Object(a.useState)(e.location.state.data),d=Object(p.a)(m,2),h=d[0],y=d[1],b=Object(a.useState)(""),v=Object(p.a)(b,2),w=v[0],x=v[1],O=function(e){var t=e.split("");return q.filter((function(e){return!t.includes(e)}))}(h.guessed_letters);return"no"===h.finished?r.a.createElement("div",null,r.a.createElement("h1",{style:{textAlign:"center"}},"Game "+h.game_id),r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(i.a,{gutter:16},r.a.createElement(s.a,{className:"gutter-row",span:4,offset:8},r.a.createElement("p",null,"Guessed Letters: "+h.guessed_letters.split("").join(", "))),r.a.createElement(s.a,{className:"gutter-row",span:4},r.a.createElement("h4",null,"Lives Left: "+(6-h.wrong_moves))))),r.a.createElement("h1",{style:{textAlign:"center"}},z(h.word_attempt)),r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(g.a,{showSearch:!0,style:{width:200},placeholder:"Guess a Letter",optionFilterProp:"children",onChange:function(e){x(e)},filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},O.map((function(e,t){return r.a.createElement(V,{value:e},e)}))),r.a.createElement(E.a,{onClick:function(){if(""===w)l("Please select a letter to guess");else if(h.guessed_letters.split("").includes(w))l("Please select a letter you have not guessed");else{var t=e.location.state.data.game_id;M(t,w).then((function(e){return y(e)})),l("")}}},"Submit Guess"),r.a.createElement(T,{errMessage:o}),r.a.createElement("div",{style:{textAlign:"center",marginTop:"30px"}},r.a.createElement(E.a,{onClick:function(){return u(e.history)}},"Back to Hangman Lobby")))):r.a.createElement(J.a,{status:(t=h.word_attempt,t.includes("")?"error":"success"),title:U(h.word_attempt),subTitle:"",extra:[r.a.createElement(E.a,{onClick:function(){return u(e.history)},type:"primary",key:"console"},"Return To Lobby"),r.a.createElement(E.a,{onClick:function(){return f(e.history)}},"Browse Other Games")]})};var D=function(){return r.a.createElement("div",null,r.a.createElement("h2",{style:{textAlign:"center"}},"More Profile Management Functionality Coming Soon!"))};var Y=Object(l.f)((function(e){var t=Object(a.useState)(""),n=Object(p.a)(t,2),c=n[0],o=n[1];return r.a.createElement("div",{style:{margin:"100px 40% 100px"}},r.a.createElement("h1",null," Registration "),r.a.createElement(y.a,{name:"normal_register",className:"register-form",initialValues:{remember:!0},onFinish:function(t){o("loading");var n=t.username,a=t.password;(function(e,t){var n={username:e,password:t};return new Promise((function(e,t){j.a.post(S,n).then((function(t){return e("")})).catch((function(t){return 400===t.response.status?e("User already exists."):e("")}))}))})(n,a).then((function(t){o(t),""===t&&(o("logging you in now"),N(e.history,n,a))})).catch((function(e){return console.log(e)}))}},r.a.createElement(y.a.Item,{name:"username",rules:[{required:!0,message:"A username is required"}]},r.a.createElement(b.a,{prefix:r.a.createElement(w.a,{className:"site-form-item-icon"}),placeholder:"Create Username"})),r.a.createElement(y.a.Item,{name:"password",hasFeedback:!0,rules:[{required:!0,message:"A password is required"}]},r.a.createElement(b.a,{prefix:r.a.createElement(x.a,{className:"site-form-item-icon"}),placeholder:"Password",type:"password"})),r.a.createElement(y.a.Item,{name:"confirmpassword",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Re-enter your password"},function(e){var t=e.getFieldValue;return{validator:function(e,n){return n&&t("password")!==n?Promise.reject("Error: Passwords do not match"):Promise.resolve()}}}]},r.a.createElement(b.a,{prefix:r.a.createElement(x.a,{className:"site-form-item-icon"}),placeholder:"Confirm Password",type:"password"})),r.a.createElement(y.a.Item,null,r.a.createElement(E.a,{type:"primary",htmlType:"submit",className:"register-form-button"},"Register")),"Already have an account?",r.a.createElement("a",{onClick:function(){e.switch()}}," Login")),r.a.createElement(T,{errMessage:c}))}));var K=function(e){var t=Object(a.useState)(!0),n=Object(p.a)(t,2),c=n[0],o=n[1],l=function(){o(!0!==c)};return c?r.a.createElement(F,{switch:l}):r.a.createElement(Y,{switch:l})},Q=[{title:"Hangman",link:"/hangmanLobby"}];var X=function(e){var t=Object(a.useState)(""),n=Object(p.a)(t,2),c=n[0],o=n[1],l=Object(a.useState)(Q),i=Object(p.a)(l,2),s=i[0];return i[1],Object(a.useEffect)((function(){new Promise((function(e,t){j.a.get(A,G()).then((function(t){return e(t.data)})).catch((function(e){return console.log(e)}))})).then((function(e){return o(e.username)}))}),[]),r.a.createElement("div",null,r.a.createElement("h1",{style:{textAlign:"center"}},"Welcome "+c),r.a.createElement("h2",{style:{textAlign:"center"}},"Play some of our games!"),r.a.createElement(h.b,{style:{margin:"10px 10% 50px 10%",padding:"10px",border:"2px solid grey",borderRadius:"5px"},itemLayout:"horizontal",dataSource:s,renderItem:function(t){return r.a.createElement(h.b.Item,{actions:[r.a.createElement(E.a,{onClick:function(){return e.history.push(t.link)}},"Play")]},r.a.createElement(h.b.Item.Meta,{title:r.a.createElement("h3",null,t.title)}))}}),r.a.createElement("p",{style:{textAlign:"center"}},"More games coming soon!"))};var Z=Object(l.f)((function(e){return r.a.createElement("div",{className:"App"},r.a.createElement(d,null),r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/",component:K}),r.a.createElement(l.a,{exact:!0,path:"/games",component:X}),r.a.createElement(l.a,{exact:!0,path:"/hangmanLobby",component:B}),r.a.createElement(l.a,{exact:!0,path:"/game",component:W}),r.a.createElement(l.a,{exact:!0,path:"/profile",component:D})))})),$=n(45);o.a.render(r.a.createElement($.a,null,r.a.createElement(Z,null)),document.getElementById("root"))}},[[188,1,2]]]);
//# sourceMappingURL=main.898f4fd6.chunk.js.map